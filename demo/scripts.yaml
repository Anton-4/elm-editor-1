env:
  APP_ROOT: /Users/jxxcarlson/dev/elm/projects/elm-editor/demo/public
scripts:
  make:
    cmd: elm make --optimize src/Main.elm --output=public/Main.js
    desc: Compline editor in optimize mode
  debug:
    cmd: elm make --debug src/Main.elm --output=public/Main.js
    desc: Compile editor in debug mode
  live:
    cmd:
      pll:
        - elm-live --proxy-prefix=/api --proxy-host=http://localhost:4000 -p 8001 -d public/ src/Main.elm -- --output public/Main.js
        - open -a /Applications/Google\ Chrome.app/  http://localhost:8001
    desc: Run editor with Elm Live
  publish:
    cmd: sh script/publish.sh
    desc: publish editor to github pages
  app:
    desc: run editor-app & start the server
    cmd:
      pll:
        - file_server ${APP_ROOT}
        - cmd: ${APP_ROOT}/src2/server.ts
          allow:
            - net
            - env
            - write
            - read
        - open -a /Applications/Google\ Chrome.app/  http://0.0.0.0:4507/index.html
  ps:
    cmd: ps aux | grep ${APP_ROOT} | grep allow
    desc: List editor processes (editor, server)
  ls:
    cmd: ls ${APP_ROOT}/data | sort
    desc: List the data directory for the server
  uploadserver:
    cmd: scp -r ${APP_ROOT}/src2 root@161.35.125.40:/root/docserver
    desc: Upload the server to Digital Ocean
  uploaddocs:
    cmd: scp -r ${APP_ROOT}/data root@161.35.125.40:/root/docserver
    desc : Upload the server data to Digital Ocean
  ssh:
    cmd: ssh root@161.35.125.40
    desc: ssh to Digital Ocean

